program ChecksAndReverses;

{$APPTYPE CONSOLE}
{$R *.res}

uses
  System.SysUtils;

// ¬се написано с учетом того, что строки не имеют крайних пробелов, не пустые, имеют минимум один символ, написаны капсом, и есть ровно один пробел между словами
function CheckStrict(fileWord, inputWord: string): boolean;
// проверка строк в этапе 1,3 и 5
begin
  if inputWord = fileWord then
    Result := true
  else
    Result := false;
end;

function Reverse(fileWord: string): string;
var
  reversedFileWord, word, reversedWord: string;
  i: integer;
const
  space = ' ';
const
  empty = ''; // ‘ункци€ применима дл€ этапа 1,4,5.
begin
  reversedFileWord := empty;
  fileWord := concat(fileWord, space);
  repeat
    word := Copy(fileWord, 1, pos(space, fileWord) - 1);
    setLength(reversedWord, length(word));
    for i := 1 to length(word) do
      reversedWord[i] := word[length(word) - i + 1];
    reversedFileWord := concat(reversedFileWord, reversedWord, space);
    delete(fileWord, 1, pos(space, fileWord));
  until length(fileWord) = 0;
  Result := reversedFileWord;
end;

function Check(fileWord, inputWord: string): boolean;
// проверка строк в этапе 2 и 4.
const
  space = ' ';
var
  checkWord: string;
  // вылетает предупреждение что эта функци€ наебнетьс€. яков, надо ее сломать.
begin
  if length(inputWord) = length(fileWord) then
  begin
    inputWord := concat(inputWord, space);
    fileWord := concat(space, fileWord, space);
    repeat
      checkWord := Copy(inputWord, 1, pos(space, inputWord));
      checkWord := concat(space, checkWord);
      if pos(checkWord, fileWord) = 0 then
      begin
        Result := false;
        exit;
      end
      else
        delete(inputWord, 1, length(checkWord) - 1);
    until (length(inputWord) = 0);

    case length(inputWord) of
      0:
        Result := true;
    end;
  end
  else
    Result := false;

end;

end.
